deployments:
  - zone: ru-central1-a

image:
  repository: realeggsy/pyflink
  pullPolicy: IfNotPresent
  tag: 1.18
  flinkVersion: v1_18

flinkConfiguration:
  taskmanager.numberOfTaskSlots: '2'
  kubernetes.rest-service.exposed.type: ClusterIP
  kubernetes.rest-service.exposed.node-port-address-type: null
  job.autoscaler.enabled: 'true'

ingress:
  template: null
  className: null
  annotations: {}

namespace: default

defaultTaskManager:
  memory: 4g
  cpu: 2

defaultJobManager:
  memory: 2g
  cpu: 1

fullnameOverride: null

nameOverride: gdp

tolerations: []

secrets:
  FLINK:
    KAFKA:
      PASSWORD: AgCloYKl9ILwIsfjNgzGrJOkYDkYaVhs4W/FgkPVTlKTzZ0f86XHVroYWjA9CCQRCjbqr7LmbNrcpZg3hciweRxUYrURzJKr/YOTFlWTPUSRHs82mqzxvBaj30EBqMJUQ/oygvhbdOUxNZccnRueWxwj2XDVGN9otKpMzw5WMUmo7ISfuh/6AsP4iTrXljd8fzHV/F1updnacwKA5FCqMEgpsZqECmHKJKND02PqTTnneQY/WcsbciZ9lGqgodavvZjzbrF3AiN6p3ZqnPeSywse8On38PnpL1+NE6FY0J+8rwRdSRxPzAqHJOyS2AsXmH8C21KxZCeHyGj9mu3cwR8LLB4WH9Rf2XrjMvuPGPaNvzAo1dg07gZfDXGoleYMmwRpQ9hI1I4ivKf506QMoY9rXiCO/iho5/fAlFJHdVbC+dokRPk3XdGCtI40r1aHv58QlqeBHjXc2wmj4C3dX5db8CwDcE6aTgWc2pwZUXJqdEPQ4K++jH3IyO4YpWs5u8iP2Q5huZq8AYMHZ6pU+nPetuD9hheEuVECYuVwx6ANCqFXYFtwjgQJM9BV49ctvAU9kB8yGd7Ivh6WpRdTh1VbUgn1ugUMlf/ETRXpsfiXL0gjlJMxl33UdzK5DypG7lYD4b2zVMTLvZpIEMi+8yOwV/3WpPhaF2iQNZpzy/uU+/sDF+wj4E6/Eprdb+nnm0RGTe9olQ==
    CLICKHOUSE:
      PASSWORD: AgCZpx3K75t7ZnWex7kub45U2PkZ/3L6B0L2c/GAcs8xrqvRdN0p/WQq/o15Om4m38RJjdvToz5UZhxfxQIQIlGcyrpPvhwX4D6jXDYCNv91vsT5UgNXHzf2JC3pbsFGXQXvHK+6yDownKXQtiI70678AFr8TgYBNspH6w30okdRoOFi1CGXioad7kjcB3CJhzjAq+ERbPaBmxu5qO6n35ted8jBiSAhHDua1ViwqgihCzFJvcoF/ELXgu2l4MyOx+BfSQOoDlzoxil/Y60bmoAD//q5lMRE2nClQBGOJJgavy3NYhz0BL46lmv+71c1f18ex3quGh32w2rLbIzYoBdggBcLGwXQNMv00Hw1pbmQPya9jAHbBOXv+ierl/e5HYW+HiWXklkniXvYRa2AJpGwKu/9VGmcEAQsyQ8QAfTZiJ83P41GE6tB2q64Y6wA5pB8wrPQIvpsugS+XGvS3KSN0/1C2FwDLzyNexJYf2+gvY67fDLkDM9giAjX6ncZSbaCxEJgBuq7QdbfBZ8bZtrJZqgIUGTrrKLasdRDqH+OYngWW9Lc9ww+GsQe3CdLN5JPSmjQ80RvtyZuc8Vi5mxBLdWyfthX8viYpQ9uLuexpDwVU50TAjc0hAk+TtV+UgsAI9pw1c2CEB1D0L6J1IGPQG+q8w6YEGFaWGC1zRzmnEskUvSouNPJUFG2wCTeHSSo3WkvUA==
  SUPERSET:
    ENV:
      DB__PASSWORD: AgBAcqZdIyhaF5HlvwqPjO2jmH2WgKV9WBlfQ8Q5VG2cfkgV8RNn5d3wLXeFjbj20A+4uY/mLQQmzX69gs9TNv8Vwimgekf2g/Xr+QcY8ddik9Xoq8jvy/gmF3nNDdXwTuCvoOrF0xfE7KVctNrOL+SIHu4XVCHYFamISaJA/panKijv0jqv77RswiYDk4p2s00Wh4fFqDHiK3e/4FtHiPfAmv31sdVsM2EZ1fSnHvxDTj0hu1ajbdTblvtbu8J713qF1gfnjlTNRtU73MjBAI1JtSFPOWv6utJYGqFIIWmjk7c1jJ2odxzlf47BeEkDLXhh9R/fk2ALKQZPwT0MZbnwxDxXESBt+9RQ1rAHG5KUBLre64AbFDdv+7chff+KclkPXNHjZRmzQjsnOMWb9OGmP/W6T6YLqll14ASr9DXWlHzk31DOuXIqJWuLqlSeHglc5Yp6o9X3ixXxYA4oqb4ajatxAG2YIpaV2AxxCaEAK5KZ9DOmsb51JsEVeuWZb8nlQQcdFizSdSzhsiL0jLYHqjhiBIFL72iDm5t0y8tmMo2/FauUYea1Vjc2KxQSOOaEzJ6kNzZmU6JsPSBiKmM7/j+XIXrHkQmoX27KL0brzAH691Tk5DPGjS4WmCwbD+zOZsgU6AbMFCc0w82lWnlmdzJmCJAkMbiE5vf2uNsGhR3NNFLridQ+6IyoKkCuwuqUQUllsQ==
    POSTGRES:
      PASSWORD: AgA54AZrNDwMplfAzcmegYZMOer0CaPIxWZq6chHEgjDRUWyR8Q+Ab/oQDkX3MD+u7/CQWmMLfMsgTnsTCgjh3YQ+RMALRdWdLJXa2wwbTYYvx1JnZSikMJ9AtVOTM6M4m8WoW9GUDGgiQV1XHcEVkH8rPyhv6Yb4JwcSIm4S9c7N6LxJx4jrtirJLpJgmdyfabPp+Y9oTAKzd7hswukPosMcdL3GRRgbHPCJE0A/Cp9O5OoitJkVR5onbVnOKPKwa3kSUaReWYp/h9G7TG3SwvWHs4U/cseeUQ0AI26ltFtOERbg9IkHams6tOSXUnJl1FBAxHijVSb6p0YCkMulRLCllftJayssACWZzAzt3n5U1Uv2Y4A32lxh59MFK3dqhHKqZFHQcTBZWjQVoMhY6GOqyQt0BVkRqa8P8395xSWRWh7za3lQUt9isTnjhqlAIa1FXm8cM+SyROMjtTkBbXvIkbyaGdL2XXRrfD2Umtv4ebgNA16SIZP2c+UZjj8UrpSznN/hkibdtzeMzb+D9jdejkMEWPKrfd4PwPK5X7dHq3mQzCxofZmIvqUP4HPwtUnGbvqk8Sys1eEW47THzI+wvHoFAIgsjCxP3WJgzmp7wv254KAb+p9/HsYq4r/UKkHAlk6XYApSAnQPvG/F71hLMXaR9CF0Jot4jcoGLEsnuTVUk5GiVZvzAkb/2GOJmNV6chilg==
      POSTGRES__PASSWORD: AgCWW37xNDHKcvGYwIDCmRpacb7eKNOReKukNyJj5Lm22qduMJsUsr0toHFlb2pj2F0ApELrafHApDv0oUifxqAz2njnITpEYwje7r5f/mVfA+uvCp535c8so3BR7vjZx/hssezLQfmSQT0s3xCBV8tac76Ohx9WQWBCsTO7jyx5SS71qUpWeS541m2oj7VtbOkLcR9ANI5vLwHlImfLuA1f1iOjTqO42K0vzFP918jq1ncZ/v6J3quKdvlSFFGgbzKvdI3kQtJXTNWrfjF5d9t2g82B/owxehwUsXlTXdWCocT2TEWXI8mMy+2ZMYHv47vdBgvFwN18B/+jNtU4MLgehS7SF5eWrp/+QjGc+80FQoc41mKLS+bZADyWxO/cSWQJa7eT52m26Gz8171aCmAhj4fCP1Ky7wNbwHOyDdfcw/5ruv52x8BMlh0T+SXN6KUbjkKpwP1ADcZMDKbsJ5MFHyA1d/lXiFR59pR1FfNe99oG3duSxVeP3U7sEJwU4IBzqruHuQLD6/M0mYdQZllnA6rRC2b7z1rvLfv+XeFy/k3Z9n7F8e/JWHEDz7/qiGNICSrKgeDYOS+n4PO/1pKISn7dYx+0SXbvsoY+gde0FQpznsSy6b4lslUrR5qyly1njQAwCLeZM6pFz04WCNK2a3oNY9/O9Wyk8OzDLRFIuPWQSLQWnJmOjPBYIN1NHqwVk4nAhw==

superset:
  enabled: true
  service:
    type: ClusterIP
    port: 8088
    annotations: {}
    loadBalancerIP: null
  configOverrides:
    secret: 'SECRET_KEY = ''12345''

      '
  supersetNode:
    command:
      - /bin/sh
      - -c
      - pip install clickhouse-connect==0.7.8 && ({{ .Values.configMountPath }}/superset_bootstrap.sh
        & /usr/bin/run-server.sh)
  tolerations:
    - key: node_group
      operator: Equal
      value: superset-only
      effect: NoSchedule
  postgresql:
    auth:
      enablePostgresUser: false
    primary:
      tolerations:
        - key: node_group
          operator: Equal
          value: superset-only
          effect: NoSchedule
    readReplicas:
      tolerations:
        - key: node_group
          operator: Equal
          value: superset-only
          effect: NoSchedule
  redis:
    auth: null
    master:
      tolerations:
        - key: node_group
          operator: Equal
          value: superset-only
          effect: NoSchedule
    replica:
      tolerations:
        - key: node_group
          operator: Equal
          value: superset-only
          effect: NoSchedule
  init:
    loadExamples: false

flink-kubernetes-operator:
  operatorPod:
    tolerations:
      - key: zone
        operator: Exists
        effect: NoSchedule
  webhook:
    create: true

argocd-apps:
  enabled: true
  applications:
    gdp:
      project: default
      sources:
        - repoURL: https://github.com/mm-kpfu/game-data-platform.git
          targetRevision: HEAD
          path: deploy/gdp
          helm:
            valuesObject:
              argocd-apps.enabled: false
            valueFiles:
              - $gdp-values/deploy/gdp/values.yaml
        - repoURL: https://github.com/mm-kpfu/game-data-platform.git
          ref: gdp-values
      destination:
        name: in-cluster
        namespace: default
      syncPolicy:
        automated:
          prune: true
          selfHeal: false
        syncOptions:
          - createNamespace=true
          - PrunePropagationPolicy=background
          - PruneLast=false
          - ApplyOutOfSyncOnly=true
          - RespectIgnoreDifferences=true
      ignoreDifferences:
        - group: argoproj.io
          kind: Application
          name: gdp

certmanager:
  issuer:
    email: muzafarov.olymp@mail.ru

domain: game-data-platform.ru
