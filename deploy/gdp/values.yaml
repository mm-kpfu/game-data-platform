deployments:
  - zone: ru-central1-a

image:
  repository: realeggsy/pyflink
  pullPolicy: IfNotPresent
  tag: latest
  flinkVersion: v1_18

flinkConfiguration:
  taskmanager.numberOfTaskSlots: '2'
  kubernetes.rest-service.exposed.type: ClusterIP
  kubernetes.rest-service.exposed.node-port-address-type: null
  job.autoscaler.enabled: 'true'

namespace: default

defaultTaskManager:
  memory: 4g
  cpu: 2

defaultJobManager:
  memory: 2g
  cpu: 1

fullnameOverride: null

nameOverride: gdp

tolerations: []

secrets:
  FLINK:
    GOOGLE:
      PASSWORD: AgADED7/enoL38madVG66aySGecfAi56GPo2Yoqzm9cGrfc2LJjUrXSCS56qQUysqUgn+3CHSZfOYekWofSCWBjqzF981re9quIOY/mPPc5YHmRf67EG6nak6u47Cw2mr2C6+iZot+WxXxylGf2imspyEZHfxljN/zDm1Dr3I5tc4Z+Y9byX2CTcxIU4kiq0gIQkYbnEOuuUv11d/k+52xY+JbN+aLK6vgIegGm7hGlO3X8CkKSl+v/LgKIPCOIe3qRoXyPCvgVH0z/bzEmDc+iOeuY8tinY4+/nbZqg8JVbamFQittW1VjoY27ZvwUSmxnczpcZ0KjXin2h7Z0P5VnP1P1EPu3LgBEHzufDbm4HLpps8sbsHrVLZEjyILfa8wlcf3o38T621dWp9kzB/uXwtVaJvKcEEDk8mz2xxOmMnTVJ6QJ9b7dqwlGkVsGtA8yhG/2LAR8iVJfqPRF0EuF5PPE2BHT5tr75koCTmE8jtAUDVbjZGcKO7z97+VSxxsMJEx5+Zk68SYKla1eu4T/c3H3N68uKRk4nbjEKipjggOBDsWHnSDoagbQ16tY0OigRUudt5XkYhQIqvkQSBJ4Ewn5ahjvUBMXlYnJ2Hnf1zJjG7DqDjGgE4mBOjvz1h/tlbe4WxG0NlJBOuhtKnFPK+PgA33voi60uXGBcKNd5H6uRu+zOvbZxLRLUk703Gs6/4DWB
      LOGIN: AgAeGXkoGh7nnMYlf0Nd9wKYTlSdp6Ew8QQzoLhC7rfE4nisW8aBVwCN2qUvc1moMMhdFPXJbfANR9GT+OpAe9cpxZ6uyQdgawFg2675DxhaTH2Mb30rqAcgZGDYqnjx+CfclsheBITK667/WsBRlsitGOQGp9TzE0dPWnJjvnhnmTjPekShUhgtFCH+WsxlKLpRvh5fmTeZqrOc8bpzKBJKtfTLGygTewFflp2wGq26Eq71jy9xYmaTFK7OIdxyqW8aj2UyZvfk8JyLFTyFyr6wr+CVdqSpBT/X92hcZmZyN34q3V3g+gLt+eBj8Az2HwkDQ1mrCFaFV/Ua3BeYyA/KIgnFGcl6X0dyfZKML53gB3SdhlN3XcLjRtrPCeohmTPC1Ykv4MVQY1yxIDrwJjAS+vkz7OjR9KBvbaQHdmrWwTldZvKPVJ91+j4nKBn9DAY9g6nVNGgybK2PRHBB6FOJup5OHNoHDBVfdma3n6XYX8AOpzjX95bNmGTfQUhItvxPiWj1Zmvfnw4Y/O1chsHYivKzFeWKOkX2Y770siZe6KCn2vTXRnBE9LiUoS1mfhQaKefa6g5JT6BQqeGHdAkdLdifOnEc8rodr2ulIQ4ZHeEC2LTDwzSrTghUURUOBo+5vwyw1Xzt7KniR0nNlJqpNKxZ6glgGHoa46/pRChl4BQlL8o1q7sBj2wKu6sa+SSPVcBl
    HDFS:
      HOST: AgCtSwDV5Thq3St8FQbMgfIth5a11VddNlT5cYJgq2ZWQXWlUaYVaDdToSABStPPZxvM0lGchfWoOc1ep5XEc+LzUJcITBjbhc146SjtI6omhDHKLBJGUW55jQ0Vz0nyF7uUzO2sILioCEwKq+1iqJLixeaVSIYcgCPK/+4OApKuHSS3VCQzkI+zev9ewUiVjNShtLrT3iTz42UP0Lwy0YL+nnv6AMxY3VwXUkN8uSaLeg7/YnU36JF8VFsCv4NNVvJ3i05HNdwzExKd5nEhZg7zmw5DIJcxD3llOxmZTAyZK2WQLgrPW30urs9kkxxTSskUUNuIFaqAVAQfSFlepbWZ1VbLVvnZXHXtWcSml+eAp2/HDGUsAWBFMSgtDjniu7LtzwsvFP+3C6KzaYZE+3BdYp+qDKLUqLsVHzpCiWoAZnQ79r/zaCSr8wyxf/YebZ3tHdNYaJn8SbK8PXhPAzB8HcvAuLz4Xq+wOdbxZmfYdvq2/f8KKUmBU6yPhwbj8/7h/bYF6aCBjkiJTL2FEbpR9KjJf9U/ruiTcRhLbkorSZZcNhBpWR0WHIFQLikWkmHEZ4FuL/YuZrshoSpcbbouq1c8T/NMS2zAqZX/JCOuUKp0gf48R+6oyafZ/kCoaGCqqOWij5leL3XKYb0LRX7E4G3D7NvA/ibyLpbtVFGsQ3Bf0izJoDwnRT4HS4zaP0UJsM7b9XJO7dQ9yU0=
  SUPERSET:
    GREENPLUM:
      PASSWORD: AgBdoERpNMCOuwQoxf9FWub22k9sHA1yRtqtd7catk9YE51qIfFHSxlKy4dNu32wVHyDrdaCwbypRvaxg9TtviD0SV16+dPrG2RepU4yizMv6jgbVqevrUHol9yIGk9ADNLOZUF2XsefDyBRrm5wp8QwjROQnkHXqLGDDHmaJiZwRfPA0hU7MzaMsYwUidRgi++ehrVyMPkwwmWOQCSInrwt4RFB/Wvx1BF1G3j1RxKHU1wwV3TiBSecjsd3FCwpw87YiQH3IeOvUadAKY2yv9o94wyo9TSLXZWYrd3QqQAFCRYh9Z1G3PCMs+9QIFjK5xJe3I4ApFfRPgVocEwLRBECQK5qpO/jqh/6Snz+2KFGNn2cdel1XKgcPj39n3ZJYS7g1q2ripz1SlXiL2uKqr2w+Eb0bppVnRHKBy46+TzazY145z1mPFxKVzLuWQO4beIDdC5khx/vhNRksd+4mpDsGhxBoLFLWH4EOmLqnu6DgARI/bP9/UgapowrTWEoTYhk40n/2BPjUL9ttdXOYbitN6MjvYiXhF6XDAg4mo+clTaZq69W/DY+P2ZXp0GeqouoJ4ByHYeoPKR0Z8PqzOwApd3M4UwKUnV4PPnc4gYpgw3ZoawefoR+qAsywYo2sYrsNAFCp2DInMfxHdTlw4w099lFt9U41Z7c4fHacMyJZUaanCREFZ770Z8wROFsAFM5XfZd

superset:
  enabled: true
  service:
    type: ClusterIP
    port: 8088
    annotations: {}
    loadBalancerIP: null
  configOverrides:
    secret: 'SECRET_KEY = ''12345''

      '
  supersetNode:
    command:
      - /bin/sh
      - -c
      - pip install clickhouse-connect==0.7.8 && ({{ .Values.configMountPath }}/superset_bootstrap.sh
        & /usr/bin/run-server.sh)
  tolerations:
    - key: node_group
      operator: Equal
      value: superset-only
      effect: NoSchedule
  postgresql:
    auth:
      enablePostgresUser: false
    primary:
      tolerations:
        - key: node_group
          operator: Equal
          value: superset-only
          effect: NoSchedule
    readReplicas:
      tolerations:
        - key: node_group
          operator: Equal
          value: superset-only
          effect: NoSchedule
  redis:
    auth: null
    master:
      tolerations:
        - key: node_group
          operator: Equal
          value: superset-only
          effect: NoSchedule
    replica:
      tolerations:
        - key: node_group
          operator: Equal
          value: superset-only
          effect: NoSchedule
  init:
    loadExamples: false

flink-kubernetes-operator:
  operatorPod:
    tolerations:
      - key: zone
        operator: Exists
        effect: NoSchedule
  webhook:
    create: true

argocd-apps:
  enabled: true
  applications:
    gdp:
      project: default
      sources:
        - repoURL: https://github.com/mm-kpfu/game-data-platform.git
          targetRevision: HEAD
          path: deploy/gdp
          helm:
            valuesObject:
              argocd-apps.enabled: false
            valueFiles:
              - $gdp-values/deploy/gdp/values.yaml
        - repoURL: https://github.com/mm-kpfu/game-data-platform.git
          ref: gdp-values
      destination:
        name: in-cluster
        namespace: default
      syncPolicy:
        automated:
          prune: true
          selfHeal: false
        syncOptions:
          - createNamespace=true
          - PrunePropagationPolicy=background
          - PruneLast=false
          - ApplyOutOfSyncOnly=true
          - RespectIgnoreDifferences=true
      ignoreDifferences:
        - group: argoproj.io
          kind: Application
          name: gdp

certManager:
  issuer:
    email: muzafarov.olymp@mail.ru

ingress:
  domain: game-data-platform.ru
  use_tls: true
  argocdServiceName: argocd-server
