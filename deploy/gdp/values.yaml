deployments:
  - zone: ru-central1-a

image:
  repository: realeggsy/pyflink
  pullPolicy: IfNotPresent
  tag: latest
  flinkVersion: v1_18

flinkConfiguration:
  taskmanager.numberOfTaskSlots: '2'
  kubernetes.rest-service.exposed.type: ClusterIP
  kubernetes.rest-service.exposed.node-port-address-type: null
  job.autoscaler.enabled: 'true'

namespace: default

defaultTaskManager:
  memory: 4g
  cpu: 2

defaultJobManager:
  memory: 2g
  cpu: 1

fullnameOverride: null

nameOverride: gdp

tolerations: []

secrets:
  FLINK:
    GOOGLE:
      PASSWORD: AgAuB1SxykUlM5D5Jw40JezdhVMr+M34fYaD/v4KzK8615rbQP+BOzDWVFg61jPOhv0B3OjBKSydgbiHAW9jy1yJmGWsbFJHbjlDyDAhy0xjX04pcyvtpvVz0fKOYTEg7GACbXKIey9Hldcu5U/D3XHfTdJAyNsAoHo0DC3pEPHvEVzY/6gzlMr7wCelF+CA0GaPPWpwIP+k8pftO4aMu64kkK/Zyjv3JmoZ3uRaMvEZWRp7hbu6fGgJEZpa0Y1upHE7HgpZDh4+luGLXoyrCFURWR/3eO1mOPs831G9pmlBEjFgP5xLMKKilqQq9SDRwkkRmrOKf+kFZZ+KzFMEuoBqjJ4+uWBDznHMWWXnzAQAWL9/e1bTbq0fWK765PSBr4mZ3vQoKBR+ihJHP8uotC/G7oH/815WRhBQFILrNk7MFXIzSJpwczSi6BsmUjF7xgrEZkPiXpfDf6n48HIbNUAJ/x5/N75R/jRU28SUoAo9qp8mBFfu5FldRIzFgvzoKD6g7W6LrEBqRKnJjKDVKv9VUrhziJF+eQZ7rYGv6XdegDeyok9EskOzFTKsJGetboiEU2VZoxL3utak1lJebQE3Qk+wcYDGRSt63H9IqkUoXuhFEFCqs+B/D62rNkHJ4gJKPmGw+6XoK3MWp0QOtprDxz7/vn/t5fFBBFIHVaBwi4XQ5IxfOq0ycg443uaG99wMwPtj
      LOGIN: AgDEKCg5yLIDB7KebkGoNa8myl25VC2DLbKEmEn9br/X9h1hrjGuJxwDesb29sgu/tD/l7RIOdk/cP0gEzUB/PENzPBxAfHBXRviXqilLjox2zuEfi42hm4SVVJixeNqtNIXmW4PQnNzyifhG4tYVMwz97/n7cVEWanspdk9em87/nYEgrihKDEaSwfF0xmJpvWG2JSIPgbUauk/3n0nICOIEWTvBtFlEEYlm/fzdUzys4SmPyaD0bi0ALqA8Hf8yIdNs4fMpqACvbZVll2TZU3HzJjTOsx1BlkAisP9fiTjb6oFnpiCLnbhVkFMfc9UegG7/bb1Esn5zF7Rp8TF2ZSv8ncqZi5aX3k1unvx3hOBf4igUksEs4iN16rp3WXzLavlFIPmL6R5N1REr+WLKvUTxFHySqyeqF2KeAQ1+dCkST12gCcZ8lcrfkba6abJQiYj5lEv1xbuA2zRMRjqaaf9waaKoTARrJ1/IGqhKIt7s1hJcTxf9smXXMOIY5IVa7wscoUg4yf6YZ7X+DaMqHXn0zMqcyA/wSsVPVjtrxGiTZBCoZbWIkjFdMk38jRVZqB5Tg9LTEGe66xcMiY7yLqO9zpoKDZ7vRIPzbtk1ikh48wn7WrYPtMDAzB4fjAJ9yMnFuO+T6hYcuwszgJJUwVQqhV2/vaDn0oDDKY393Q0/dst/Tq3MBx3RBPszJ1jPOLsM9CB
    HDFS:
      HOST: AgCeG7ztUh7mRX9L7EHk0DKT8cLC15j22+cJjisb9FRsMIECmGzg9viws+oKHv3DzTC8fxbUDBFMt5n+tbTx+Y5ENbs3cki983ltNDgwLIziLm8MuNnFat/VgKAkhUycM7bRAjMpLsri5DhWYspXjql3eyg7a5XPiGnchvck9I7Pvksm96M1dOVI1bzUETB+kLNlfk6HkBNOzHEh1S8HY4Ao2vlH16R34VLo3y4PNlNTZ+kSVrVPMQFI5zJ9nn4sk1gpsElRoGbBMjHSpMDGOc8LMlkZhTvv2qDXQHzH7tOwrsmjFv2hgpnrTmZxa/X9oGBHLrxtzfjY8N+docwdHRkhT1h5un6LfidZUloSAWJtWrj7OXEnGa1B/IzK3q0/dFttyulXDxaQn86jbFS7mJ0CyH1wtmDPi05Ptf5XGnt8nVrE92keywlWD8pITtv9nS12x9T9aVIMr7teCwqwXjW3kngdhGsIwWXMbWtIRNvzgLXmjCulK56veMaXHoHzpSeSwqmgSdr1elRGguNfQmqZQ5t1BlJUMObeAHYUowopQjUixsHZctXbK/g/10y6ePvBCUJ495wd0Q4z/LXTrra5XnLI+gAPI1nzuTTFxkECQIhAcx/tRL6sPwUnvn0L+UPmY1ykiv9da6nK1oFUY/t7Cxyo/uNMZenF8nKggIWiMo+OESeGMMopUa2QNgjvsR5pLTQhPsEuJ0Z/fmc=
  SUPERSET:
    GREENPLUM:
      PASSWORD: AgB6ag3UOHJwuf+d5K4H5L6JX/embTlnaoNZbY/T417oQqJ4F5M4T1GecwbFstPEG1t7xERq2aVeSNqaZwwsC141e2Gh49KnZC3UVcql00+8POrpm9h84vL27fft4IMWOXnyDl/6bJ9O1pKD6xJxkJ5ZCezRAFPWzIFGEBnc+G/2lk4zYvKpq+mPbzHnxnFsOSA0g6whK+LyTmlU2JBbreBsIR1wcTcH8t/1mjISVVksCXA4POCkecx+jF/P+YEK+1joJsE7gRBcCgp5HdWqoZhk1/ILbTTOXsS2zeAOQRa+CyZ/xDbfU3xcrDtfnaJA+ftdA67CVY++388tT3GYz12fky5Ho1gbgAOGOGb7coRYxc0M2i6wdR7V3Gltf+5exXIxFgMLsP38VxVSG+pGxE2YJ5AqP0uR3nm3n9+6zJ92Q9EmpSb8Edv3HgTgGRLNy0W5aTai7EAWuWkwWseW0Zn+nBXMuQplXWIxvAOPStLmQNYtgZZoJghBqFTnJn1yJm8bblSRa7LpwdjhDCnLwe9ueS8Zc23CwKWVlaOTzngikTvSic5oflxr5we/xwvHF4P9ZYN0fCg8/euhgK3EPOBvNeVF4ROA6lABFMtwKsUiTdJ+DdNa8PTWliSpby0vfcWY53YqPGrrFVlbKA5kB2wNubVnATaFKosqc/WLiMlAvG/90GQ2grL9kX4j5/cbBkoL+tsg

superset:
  enabled: true
  service:
    type: ClusterIP
    port: 8088
    annotations: {}
    loadBalancerIP: null
  configOverrides:
    secret: 'SECRET_KEY = ''12345''

      '
  supersetNode:
    command:
      - /bin/sh
      - -c
      - pip install clickhouse-connect==0.7.8 && ({{ .Values.configMountPath }}/superset_bootstrap.sh
        & /usr/bin/run-server.sh)
  tolerations:
    - key: node_group
      operator: Equal
      value: superset-only
      effect: NoSchedule
  postgresql:
    auth:
      enablePostgresUser: false
    primary:
      tolerations:
        - key: node_group
          operator: Equal
          value: superset-only
          effect: NoSchedule
    readReplicas:
      tolerations:
        - key: node_group
          operator: Equal
          value: superset-only
          effect: NoSchedule
  redis:
    auth: null
    master:
      tolerations:
        - key: node_group
          operator: Equal
          value: superset-only
          effect: NoSchedule
    replica:
      tolerations:
        - key: node_group
          operator: Equal
          value: superset-only
          effect: NoSchedule
  init:
    loadExamples: false

flink-kubernetes-operator:
  operatorPod:
    tolerations:
      - key: zone
        operator: Exists
        effect: NoSchedule
  webhook:
    create: true

argocd-apps:
  enabled: true
  applications:
    gdp:
      project: default
      sources:
        - repoURL: https://github.com/mm-kpfu/game-data-platform.git
          targetRevision: HEAD
          path: deploy/gdp
          helm:
            valuesObject:
              argocd-apps.enabled: false
            valueFiles:
              - $gdp-values/deploy/gdp/values.yaml
        - repoURL: https://github.com/mm-kpfu/game-data-platform.git
          ref: gdp-values
      destination:
        name: in-cluster
        namespace: default
      syncPolicy:
        automated:
          prune: true
          selfHeal: false
        syncOptions:
          - createNamespace=true
          - PrunePropagationPolicy=background
          - PruneLast=false
          - ApplyOutOfSyncOnly=true
          - RespectIgnoreDifferences=true
      ignoreDifferences:
        - group: argoproj.io
          kind: Application
          name: gdp

certManager:
  issuer:
    email: muzafarov.olymp@mail.ru

ingress:
  domain: game-data-platform.ru
  use_tls: true
  argocdServiceName: argocd-server
